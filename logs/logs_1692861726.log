[2023-08-24 15:22:06,855] logger_util.py->write_log line:61 [INFO] 
-------------接口请求开始-----------
[2023-08-24 15:22:06,855] logger_util.py->write_log line:61 [INFO] 接口名称：创建内部通道
[2023-08-24 15:22:06,855] logger_util.py->write_log line:61 [INFO] 接口方式：post
[2023-08-24 15:22:06,856] logger_util.py->write_log line:61 [INFO] 接口路径：http://127.0.0.1:18000/api/v1/variable/tunnel
[2023-08-24 15:22:06,856] logger_util.py->write_log line:61 [INFO] 请求头：{}
[2023-08-24 15:22:06,856] logger_util.py->write_log line:61 [INFO] 请求参数：{'type': 3, 'name': '内部2709', 'description': '', 'config': None}
[2023-08-24 15:22:06,856] logger_util.py->write_log line:61 [INFO] 文件上传：None
[2023-08-24 15:22:06,879] logger_util.py->write_log line:61 [INFO] 预期结果：[{'equals': {'status_code': 200}}, {'contains': 'id'}]
[2023-08-24 15:22:06,879] logger_util.py->write_log line:61 [INFO] 实际结果：{'id': 123, 'parentId': None, 'sort': 10, 'name': '内部2709', 'description': '', 'type': 3, 'typeTag': None, 'config': None, 'enable': True, 'createTime': '2023-08-24T15:22:06.8731177+08:00', 'updateTime': '2023-08-24T15:22:06.8731181+08:00'}
[2023-08-24 15:22:06,879] logger_util.py->write_log line:61 [INFO] 接口请求成功！
[2023-08-24 15:22:06,879] logger_util.py->write_log line:61 [INFO] 
-------------接口请求结束-----------

[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 
-------------接口请求开始-----------
[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 接口名称：创建内部通道1
[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 接口方式：post
[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 接口路径：http://127.0.0.1:18000/api/v1/variable/tunnel
[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 请求头：{}
[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 请求参数：{'type': 3, 'name': '内部通道1', 'description': '', 'config': None}
[2023-08-24 15:22:06,884] logger_util.py->write_log line:61 [INFO] 文件上传：None
[2023-08-24 15:22:06,889] logger_util.py->error_log line:65 [INFO] 断言失败:status_code不等于200
[2023-08-24 15:22:06,889] logger_util.py->write_log line:61 [INFO] 实际结果：通道名称不能重复
[2023-08-24 15:22:06,889] logger_util.py->write_log line:61 [INFO] 接口请求失败！
[2023-08-24 15:22:06,889] logger_util.py->write_log line:61 [INFO] -------------接口请求结束-----------

[2023-08-24 15:22:06,890] logger_util.py->error_log line:65 [INFO] 断言异常：异常信息: Traceback (most recent call last):
  File "E:\Project_python\api_cms\common\requests_util.py", line 356, in validate_result
    error_log("断言失败:"+assert_key+"不等于"+str(assert_value))
  File "E:\Project_python\api_cms\common\logger_util.py", line 66, in error_log
    raise Exception(log_message)
Exception: 断言失败:status_code不等于200

[2023-08-24 15:22:06,890] logger_util.py->error_log line:65 [INFO] 分析YAML文件异常：异常信息: Traceback (most recent call last):
  File "E:\Project_python\api_cms\common\requests_util.py", line 356, in validate_result
    error_log("断言失败:"+assert_key+"不等于"+str(assert_value))
  File "E:\Project_python\api_cms\common\logger_util.py", line 66, in error_log
    raise Exception(log_message)
Exception: 断言失败:status_code不等于200

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Project_python\api_cms\common\requests_util.py", line 255, in analysis_yaml
    self.validate_result(yq_result, return_text, status_code)
  File "E:\Project_python\api_cms\common\requests_util.py", line 413, in validate_result
    error_log("断言异常：异常信息: %s" % str(traceback.format_exc()))
  File "E:\Project_python\api_cms\common\logger_util.py", line 66, in error_log
    raise Exception(log_message)
Exception: 断言异常：异常信息: Traceback (most recent call last):
  File "E:\Project_python\api_cms\common\requests_util.py", line 356, in validate_result
    error_log("断言失败:"+assert_key+"不等于"+str(assert_value))
  File "E:\Project_python\api_cms\common\logger_util.py", line 66, in error_log
    raise Exception(log_message)
Exception: 断言失败:status_code不等于200


[2023-08-24 15:22:06,995] logger_util.py->write_log line:61 [INFO] 
-------------接口请求开始-----------
[2023-08-24 15:22:06,995] logger_util.py->write_log line:61 [INFO] 接口名称：校验内部通道必填项-通道名称为空
[2023-08-24 15:22:06,996] logger_util.py->write_log line:61 [INFO] 接口方式：post
[2023-08-24 15:22:06,996] logger_util.py->write_log line:61 [INFO] 接口路径：http://127.0.0.1:18000/api/v1/variable/tunnel
[2023-08-24 15:22:06,996] logger_util.py->write_log line:61 [INFO] 请求头：{}
[2023-08-24 15:22:06,996] logger_util.py->write_log line:61 [INFO] 请求参数：{'type': 3, 'name': '', 'description': '', 'config': None}
[2023-08-24 15:22:06,996] logger_util.py->write_log line:61 [INFO] 文件上传：None
[2023-08-24 15:22:07,001] logger_util.py->write_log line:61 [INFO] 预期结果：[{'equals': {'status_code': 400}}]
[2023-08-24 15:22:07,001] logger_util.py->write_log line:61 [INFO] 实际结果：通道名称不能为空
[2023-08-24 15:22:07,001] logger_util.py->write_log line:61 [INFO] 接口请求成功！
[2023-08-24 15:22:07,001] logger_util.py->write_log line:61 [INFO] 
-------------接口请求结束-----------

[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 
-------------接口请求开始-----------
[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 接口名称：校验内部通道必填项-通道名称重复
[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 接口方式：post
[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 接口路径：http://127.0.0.1:18000/api/v1/variable/tunnel
[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 请求头：{}
[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 请求参数：{'type': 3, 'name': '内部通道1', 'description': '', 'config': None}
[2023-08-24 15:22:07,006] logger_util.py->write_log line:61 [INFO] 文件上传：None
[2023-08-24 15:22:07,011] logger_util.py->write_log line:61 [INFO] 预期结果：[{'equals': {'status_code': 400}}]
[2023-08-24 15:22:07,011] logger_util.py->write_log line:61 [INFO] 实际结果：通道名称不能重复
[2023-08-24 15:22:07,011] logger_util.py->write_log line:61 [INFO] 接口请求成功！
[2023-08-24 15:22:07,011] logger_util.py->write_log line:61 [INFO] 
-------------接口请求结束-----------

[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 
-------------接口请求开始-----------
[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 接口名称：校验内部通道必填项-通道类型为空
[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 接口方式：post
[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 接口路径：http://127.0.0.1:18000/api/v1/variable/tunnel
[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 请求头：{}
[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 请求参数：{'type': None, 'name': '内部通道2', 'description': '', 'config': None}
[2023-08-24 15:22:07,016] logger_util.py->write_log line:61 [INFO] 文件上传：None
[2023-08-24 15:22:07,019] logger_util.py->write_log line:61 [INFO] 预期结果：[{'equals': {'status_code': 400}}]
[2023-08-24 15:22:07,019] logger_util.py->write_log line:61 [INFO] 实际结果：{'type': 'https://tools.ietf.org/html/rfc7231#section-6.5.1', 'title': 'One or more validation errors occurred.', 'status': 400, 'traceId': '00-550da40e3d93de3eb1c5ddba9f4d077a-91a6abb01c06abdb-00', 'errors': {'tunnel': ['The tunnel field is required.'], '$.type': ['The JSON value could not be converted to CMS.Framework.Variable.VariableType. Path: $.type | LineNumber: 0 | BytePositionInLine: 13.']}}
[2023-08-24 15:22:07,020] logger_util.py->write_log line:61 [INFO] 接口请求成功！
[2023-08-24 15:22:07,020] logger_util.py->write_log line:61 [INFO] 
-------------接口请求结束-----------

